"use strict";(self.webpackChunkawg_app=self.webpackChunkawg_app||[]).push([[400],{1400:(s,D,e)=>{e.r(D),e.d(D,{EditionViewModule:()=>W});var d=e(655),a=e(5e3),y=e(8695),S=e(8755),C=e(1238),v=e(2847),h=e(4825),p=e(3610),i=e(6900);let g=class{constructor(n,u,L){this.editionService=n,this.route=u,this.router=L,this.editionViewTitle="Inhalt",this.editionViewId="awg-edition-view",this.editionRoute=p.w8.EDITION,this.seriesRoute=p.w8.SERIES}ngOnInit(){this.routeToSidenav(),this.getSelectionsFromRoute()}getSelectionsFromRoute(){this.selectedEditionSeries$=this.editionService.getSelectedEditionSeries().pipe((0,h.g)(0)),this.selectedEditionSection$=this.editionService.getSelectedEditionSection().pipe((0,h.g)(0)),this.selectedEditionComplex$=this.editionService.getEditionWork().pipe((0,h.g)(0)),this.isRowTableView$=this.editionService.getIsRowTableView().pipe((0,h.g)(0))}routeToSidenav(){this.router.navigate([{outlets:{side:"editionInfo"}}],{preserveFragment:!0})}};g.ctorParameters=()=>[{type:i.O},{type:S.gz},{type:S.F0}],g=(0,d.gn)([(0,a.wA2)({selector:"awg-edition-view",template:C,styles:[v]})],g);var w=e(3288),I=e(5883);let E=class{constructor(n,u){this.route=n,this.editionService=u}ngOnInit(){this.getEditionComplexFromRoute()}getEditionComplexFromRoute(){this.route.paramMap.subscribe(n=>{const u=n.get("compositionId")?n.get("compositionId"):"";this.editionService.updateEditionWork(p.yE[u.toUpperCase()]),this.selectedEditionComplex$=this.editionService.getEditionWork().pipe((0,h.g)(0))})}ngOnDestroy(){this.editionService.clearEditionWork()}};E.ctorParameters=()=>[{type:S.gz},{type:i.O}],E=(0,d.gn)([(0,a.wA2)({selector:"awg-edition-complex",template:w,styles:[I]})],E);var $=e(3273),t=e(5680),o=e(7579),c=e(2722),l=e(849);let m=class{constructor(n){this.editionService=n,this._destroyed$=new o.x}ngOnInit(){this.getEditionWork()}getEditionWork(){this.editionService.getEditionWork().pipe((0,c.R)(this._destroyed$)).subscribe({next:n=>{this.editionWork=n,this.setButtons()}})}setButtons(){this.editionRouterLinkButtons=[new l.v(this.editionWork.baseRoute,this.editionWork.introRoute.route,p.w8.EDITION_INTRO.short,!1),new l.v(this.editionWork.baseRoute,this.editionWork.sheetsRoute.route,p.w8.EDITION_SHEETS.short,!1),new l.v(this.editionWork.baseRoute,this.editionWork.reportRoute.route,p.w8.EDITION_REPORT.short,!1),new l.v(this.editionWork.baseRoute,this.editionWork.graphRoute.route,p.w8.EDITION_GRAPH.short,!1)]}ngOnDestroy(){this._destroyed$.next(!0),this._destroyed$.complete()}};m.ctorParameters=()=>[{type:i.O}],m=(0,d.gn)([(0,a.wA2)({selector:"awg-edition-detail-nav",template:$,styles:[t]})],m);var N=e(7346),V=e(3616);let T=class{constructor(n){this.editionService=n,this.rowTablesData=[{route:"/op19",short:"Op. 19",full:"Opus 19",convolute:"B",sketch:"SkRT",disabled:!1},{route:"/op20",short:"Op. 20",full:"Opus 20",convolute:"A",sketch:"SkRT",disabled:!0},{route:"/op21",short:"Op. 21",full:"Opus 21",convolute:"B",sketch:"SkRT",disabled:!0},{route:"/op22",short:"Op. 22",full:"Opus 22",convolute:"B",sketch:"SkRT",disabled:!0},{route:"/op23",short:"Op. 23",full:"Opus 23",convolute:"B",sketch:"SkRT",disabled:!1},{route:"/op24",short:"Op. 24",full:"Opus 24",convolute:"B",sketch:"SkRT",disabled:!1},{route:"/op25",short:"Op. 25",full:"Opus 25",convolute:"C",sketch:"SkRT",disabled:!1},{route:"/op26",short:"Op. 26",full:"Opus 26",convolute:"B",sketch:"SkRT",disabled:!0},{route:"/op27",short:"Op. 27",full:"Opus 27",convolute:"B",sketch:"SkRT",disabled:!0},{route:"/op28",short:"Op. 28",full:"Opus 28",convolute:"B",sketch:"SkRT",disabled:!0},{route:"/op29",short:"Op. 29",full:"Opus 29",convolute:"",sketch:"SkRT",disabled:!0},{route:"/op30",short:"Op. 30",full:"Opus 30",convolute:"",sketch:"SkRT",disabled:!0},{route:"/op31",short:"Op. 31",full:"Opus 31",convolute:"",sketch:"SkRT",disabled:!0}]}ngOnInit(){this.editionService.updateIsRowTableView(!0)}ngOnDestroy(){this.editionService.clearIsRowTableView()}};T.ctorParameters=()=>[{type:i.O}],T=(0,d.gn)([(0,a.wA2)({selector:"awg-edition-row-tables",template:N,styles:[V]})],T);var P=e(5203),A=e(3237);let f=class{constructor(n){this.editionService=n}ngOnInit(){this.clearSelectedSection(),this.getSeries()}getSeries(){this.selectedSeries$=this.editionService.getSelectedEditionSeries()}clearSelectedSection(){this.editionService.clearSelectedEditionSection()}};f.ctorParameters=()=>[{type:i.O}],f=(0,d.gn)([(0,a.wA2)({selector:"awg-edition-sections",template:P,styles:[A]})],f);var F=e(3030),B=e(2310);let R=class{constructor(n,u){this.route=n,this.editionService=u,this._destroyed$=new o.x}ngOnInit(){this.getSection()}getSection(){const n=this.route.snapshot.paramMap.get("id");this.editionService.getSelectedEditionSeries().pipe((0,h.g)(0),(0,c.R)(this._destroyed$)).subscribe(u=>{if(u){this.selectedSeries=u;const L=u.series.route;this.selectedSection=this.editionService.getEditionSectionById(L,n),this.editionService.updateSelectedEditionSection(this.selectedSection)}})}ngOnDestroy(){this._destroyed$.next(!0),this._destroyed$.complete()}};R.ctorParameters=()=>[{type:S.gz},{type:i.O}],R=(0,d.gn)([(0,a.wA2)({selector:"awg-edition-section-detail",template:F,styles:[B]})],R);var j=e(7442),M=e(1499);let O=class{constructor(n){this.editionService=n}ngOnInit(){this.clearSelections(),this.getEditionOutline()}getEditionOutline(){this.editionOutline=this.editionService.getEditionOutline(),this.editionRoute=p.w8.EDITION}clearSelections(){this.editionService.clearSelectedEditionSeries(),this.editionService.clearSelectedEditionSection()}};O.ctorParameters=()=>[{type:i.O}],O=(0,d.gn)([(0,a.wA2)({selector:"awg-edition-series",template:j,styles:[M]})],O);var J=e(5127),z=e(1048),G=e(1430);let b=class{constructor(n,u){this.route=n,this.editionService=u}ngOnInit(){this.getSeries()}getSeries(){const n=this.route.snapshot.paramMap.get("id");this.selectedSeries=this.editionService.getEditionSeriesById(n),this.editionService.updateSelectedEditionSeries(this.selectedSeries),this.editionRoute=G.w8.EDITION}};b.ctorParameters=()=>[{type:S.gz},{type:i.O}],b=(0,d.gn)([(0,a.wA2)({selector:"awg-edition-series-detail",template:J,styles:[z]})],b);var U=e(4807),H=e(5347);let x=class{constructor(){}ngOnInit(){}};x.ctorParameters=()=>[],x=(0,d.gn)([(0,a.wA2)({selector:"awg-edition-type",template:U,styles:[H]})],x);const K=[{path:"",component:g,children:[{path:"series",component:O},{path:"series/:id",component:b,children:[{path:"sections",component:f},{path:"section/:id",component:R},{path:"sections/:id",redirectTo:"section/:id",pathMatch:"full"},{path:"",redirectTo:"sections",pathMatch:"full"}]},{path:"composition/:compositionId",component:E,children:[{path:"",component:m,children:[{path:"intro",loadChildren:()=>e.e(169).then(e.bind(e,5169)).then(r=>r.EditionIntroModule)},{path:"sheets",loadChildren:()=>Promise.all([e.e(592),e.e(165)]).then(e.bind(e,8165)).then(r=>r.EditionSheetsModule)},{path:"report",loadChildren:()=>Promise.all([e.e(592),e.e(687)]).then(e.bind(e,7687)).then(r=>r.EditionReportModule)},{path:"graph",loadChildren:()=>Promise.all([e.e(266),e.e(592),e.e(231)]).then(e.bind(e,1231)).then(r=>r.EditionGraphModule)},{path:"",redirectTo:"intro",pathMatch:"full"}]}]},{path:"row-tables",component:T}]}],Q=[g,E,m,T,f,R,O,b,x];let k=class{};k=(0,d.gn)([(0,a.LVF)({imports:[S.Bz.forChild(K)],exports:[S.Bz]})],k);let W=class{};W=(0,d.gn)([(0,a.LVF)({imports:[y.m,k],declarations:[Q]})],W)},6900:(s,D,e)=>{e.d(D,{K:()=>g,O:()=>E});var d=e(655),a=e(5e3),y=e(520),S=e(4128),C=e(9646),v=e(6590),h=e(5698),p=e(262),i=e(3610);let g=class{constructor(t){this.http=t,this._assetWorkPath=""}getEditionSheetsData(t){this._setAssetWorkPath(t);const o=this._getFolioConvoluteData(),c=this._getSvgSheetsData(),l=this._getTextcriticsListData();return(0,S.D)([o,c,l]).pipe((0,v.d)([new i.yL,new i.vU,new i.Dt]),(0,h.q)(1))}getEditionGraphData(t){return this._setAssetWorkPath(t),this._getGraphData().pipe((0,v.d)(new i.nu),(0,h.q)(1))}getEditionIntroData(t){return this._setAssetWorkPath(t),this._getIntroData().pipe((0,v.d)(new i.Jb),(0,h.q)(1))}getEditionReportData(t){this._setAssetWorkPath(t);const o=this._getSourceListData(),c=this._getSourceDescriptionListData(),l=this._getSourceEvaluationListData(),m=this._getTextcriticsListData();return(0,S.D)([o,c,l,m]).pipe((0,v.d)([new i.LQ,new i.DD,new i.DO,new i.Dt]),(0,h.q)(1))}_setAssetWorkPath(t){const o=i.w8.SERIES.route+t.series.route+i.w8.SECTION.route+t.section.route+t.work.route;this._assetWorkPath=i.w8.EDITION_ASSETS.baseRoute+o}_getFolioConvoluteData(){const t=i.w8.EDITION_ASSETS.folioConvoluteFile,o=`${this._assetWorkPath}/${t}`;return this._getJsonData(o)}_getGraphData(){const t=i.w8.EDITION_ASSETS.graphFile,o=`${this._assetWorkPath}/${t}`;return this._getJsonData(o)}_getIntroData(){const t=i.w8.EDITION_ASSETS.introFile,o=`${this._assetWorkPath}/${t}`;return this._getJsonData(o)}_getSourceListData(){const t=i.w8.EDITION_ASSETS.sourceListFile,o=`${this._assetWorkPath}/${t}`;return this._getJsonData(o)}_getSourceDescriptionListData(){const t=i.w8.EDITION_ASSETS.sourceDescriptionListFile,o=`${this._assetWorkPath}/${t}`;return this._getJsonData(o)}_getSourceEvaluationListData(){const t=i.w8.EDITION_ASSETS.sourceEvaluationListFile,o=`${this._assetWorkPath}/${t}`;return this._getJsonData(o)}_getSvgSheetsData(){const t=i.w8.EDITION_ASSETS.svgSheetsFile,o=`${this._assetWorkPath}/${t}`;return this._getJsonData(o)}_getTextcriticsListData(){const t=i.w8.EDITION_ASSETS.textcriticsFile,o=`${this._assetWorkPath}/${t}`;return this._getJsonData(o)}_getJsonData(t){return this.http.get(t).pipe((0,p.K)(this._handleError("_getJsonData",[])))}_handleError(t,o){return c=>(this._logError(`${t} failed: ${c.message}`),(0,C.of)(o))}_logError(t){console.error(t)}};g.ctorParameters=()=>[{type:y.eN}],g=(0,d.gn)([(0,a.GSi)({providedIn:"root"})],g);var I,w=e(4707);let E=I=class{constructor(){this._editionOutline=[{series:i.w8.SERIES_1,sections:[i.w8.SECTION_1,i.w8.SECTION_2,i.w8.SECTION_3,i.w8.SECTION_4,i.w8.SECTION_5]},{series:i.w8.SERIES_2,sections:[i.w8.SECTION_1,i.w8.SECTION_2,i.w8.SECTION_3,i.w8.SECTION_4,i.w8.SECTION_5]},{series:i.w8.SERIES_3,sections:[i.w8.SECTION_1,i.w8.SECTION_2,i.w8.SECTION_3,i.w8.SECTION_4,i.w8.SERIES_3_SECTION_5]}],this._bufferSize=1,this._editionWorkSubject=new w.t(this._bufferSize),this._editionWorkStream$=this._editionWorkSubject.asObservable(),this._isRowTableViewSubject=new w.t(this._bufferSize),this._isRowTableViewStream$=this._isRowTableViewSubject.asObservable(),this._selectedEditionSeriesSubject=new w.t(this._bufferSize),this._selectedEditionSeriesStream$=this._selectedEditionSeriesSubject.asObservable(),this._selectedEditionSectionSubject=new w.t(this._bufferSize),this._selectedEditionSectionStream$=this._selectedEditionSectionSubject.asObservable()}static _filterTextcriticalComments(t,o,c){const l=t.measure.replace("[","").replace("]",""),m=t.system.replace("[","").replace("]","");switch(o.type){case i.wN.measure:return l===o.id;case i.wN.system:return m===o.id;case i.wN.item:return c===+o.id}}getTextcriticalComments(t,o){if(t&&o)return t.filter((c,l)=>I._filterTextcriticalComments(c,o,l))}getEditionWork(){return this._editionWorkStream$}updateEditionWork(t){this._editionWorkSubject.next(t)}clearEditionWork(){this._editionWorkSubject.next(null)}getEditionOutline(){return this._editionOutline}getEditionSeriesRoute(){return i.w8.EDITION.route+i.w8.SERIES.route}getEditionSeriesById(t){return this._editionOutline.find(o=>o.series.route===t)}getEditionSectionById(t,o){return this.getEditionSeriesById(t).sections.find(l=>l.route===o)}getSelectedEditionSeries(){return this._selectedEditionSeriesStream$}updateSelectedEditionSeries(t){this._selectedEditionSeriesSubject.next(t)}clearSelectedEditionSeries(){this._selectedEditionSeriesSubject.next(null)}getSelectedEditionSection(){return this._selectedEditionSectionStream$}updateSelectedEditionSection(t){this._selectedEditionSectionSubject.next(t)}clearSelectedEditionSection(){this._selectedEditionSectionSubject.next(null)}getIsRowTableView(){return this._isRowTableViewStream$}updateIsRowTableView(t){this._isRowTableViewSubject.next(t)}clearIsRowTableView(){this._isRowTableViewSubject.next(null)}};E=I=(0,d.gn)([(0,a.GSi)({providedIn:"root"})],E)},5883:s=>{s.exports=""},5680:s=>{s.exports=""},3616:s=>{s.exports=""},2310:s=>{s.exports=""},3237:s=>{s.exports=""},1048:s=>{s.exports=""},1499:s=>{s.exports=""},5347:s=>{s.exports=""},2847:s=>{s.exports=""},3288:s=>{s.exports="\x3c!-- edition routes --\x3e\n<router-outlet></router-outlet>\n"},3273:s=>{s.exports='<awg-router-link-button-group\n    *ngIf="editionRouterLinkButtons"\n    [routerLinkButtons]="editionRouterLinkButtons"\n    [queryParamsHandling]="\'\'">\n</awg-router-link-button-group>\n\n<router-outlet></router-outlet>\n'},7346:s=>{s.exports='<div *ngIf="rowTablesData" class="row row-cols-1 row-cols-md-3 row-cols-xl-5 g-4">\n    <div class="col" *ngFor="let rowTable of rowTablesData">\n        <div class="card h-100">\n            <div class="card-body">\n                <h5 class="card-title" [ngClass]="{ \'text-muted\': rowTable.disabled }">\n                    Reihentabelle {{ rowTable.short }}\n                </h5>\n            </div>\n            <div class="card-footer text-end">\n                <a\n                    [routerLink]="[\'../composition\' + rowTable.route, \'sheets\']"\n                    [queryParams]="{ convolute: rowTable.convolute, sketch: rowTable.sketch }"\n                    class="btn btn-outline-info"\n                    [ngClass]="{ disabled: rowTable.disabled }"\n                    >Mehr...\n                </a>\n            </div>\n        </div>\n    </div>\n</div>\n'},3030:s=>{s.exports='<small class="text-muted"\n    >[Diese Inhalte erscheinen im Zusammenhang der vollsta\u0308ndigen Edition von AWG {{ selectedSeries?.series.short }}/{{\n        selectedSection?.short\n    }}.]</small\n>\n'},5203:s=>{s.exports='<div *ngIf="selectedSeries$ | async as selectedSeries" class="row row-cols-1 row-cols-md-3 row-cols-xl-5 g-4">\n    <div class="col" *ngFor="let section of selectedSeries.sections">\n        <div class="card h-100">\n            <div class="card-body">\n                <h5 class="card-title">{{ section.full }}</h5>\n            </div>\n            <div class="card-footer text-end">\n                <a [routerLink]="[section.route]" class="btn btn-outline-info">Mehr... </a>\n            </div>\n        </div>\n    </div>\n</div>\n'},5127:s=>{s.exports="<router-outlet></router-outlet>\n"},7442:s=>{s.exports='<div *ngIf="editionOutline" class="row row-cols-1 row-cols-md-3 g-4">\n    <div class="col" *ngFor="let series of editionOutline">\n        <div class="card h-100">\n            <div class="card-header">\n                <h5 class="card-title">{{ series.series.full }}</h5>\n            </div>\n            <div class="card-body">\n                <ul class="list-group list-group-flush">\n                    <li *ngFor="let section of series.sections" class="list-group-item">\n                        <a [routerLink]="[series.series.route, \'section\', section.route]">{{ section.full }}</a>\n                    </li>\n                </ul>\n            </div>\n            <div class="card-footer text-end">\n                <a [routerLink]="[series.series.route]" class="btn btn-outline-info">Mehr... </a>\n            </div>\n        </div>\n    </div>\n</div>\n'},4807:s=>{s.exports="<p>edition-type works!</p>\n\n<router-outlet></router-outlet>\n"},1238:s=>{s.exports='\x3c!-- content: edition-view --\x3e\n\n<div>\n    <div class="awg-edition-row-tables para" *ngIf="isRowTableView$ | async as isRowTableView">\n        <h6 class="awg-edition-info-breadcrumb">\n            <a [routerLink]="[\'.\' + seriesRoute.route]">\n                {{ editionRoute?.short }}\n            </a>\n            /\n            <span>Reihentabellen</span>\n        </h6>\n        \x3c!-- Jumbotron --\x3e\n        <div\n            class="p-5 bg-image text-white text-center awg-jumbotron-image shadow border rounded-3"\n            style="background-image: url(\'https://mdbcdn.b-cdn.net/img/new/slides/041.webp\')">\n            <h1 id="{{ editionViewId }}" class="mb-4">\xdcbersicht</h1>\n        </div>\n    </div>\n\n    <div\n        class="awg-edition-series para"\n        *ngIf="(selectedEditionComplex$ | async) === null && (isRowTableView$ | async) === null">\n        <h6 class="awg-edition-info-breadcrumb">\n            <a\n                *ngIf="selectedEditionSeries$ | async as selectedSeries; else editionWithoutLink"\n                [routerLink]="[\'.\' + seriesRoute.route]">\n                {{ editionRoute?.short }}\n            </a>\n            <ng-template #editionWithoutLink> {{ editionRoute?.short }} </ng-template>\n            /\n            <span *ngIf="selectedEditionSeries$ | async as selectedSeries">\n                <a\n                    *ngIf="selectedEditionSection$ | async as selectedSection; else seriesWithoutLink"\n                    [routerLink]="[\'./series\', selectedSeries.series.route]">\n                    {{ selectedSeries?.series.full }}\n                </a>\n                <ng-template #seriesWithoutLink> {{ selectedSeries?.series.full }} </ng-template>\n                /\n            </span>\n            <span *ngIf="selectedEditionSection$ | async as selectedSection">\n                {{ selectedSection?.full }}\n            </span>\n        </h6>\n        \x3c!-- Jumbotron --\x3e\n        <div\n            class="p-5 bg-image text-white text-center awg-jumbotron-image shadow border rounded-3"\n            style="background-image: url(\'https://mdbcdn.b-cdn.net/img/new/slides/041.webp\')">\n            <h1 id="{{ editionViewId }}" class="mb-4">{{ editionViewTitle }}</h1>\n        </div>\n    </div>\n\n    <div class="awg-edition-complex" *ngIf="selectedEditionComplex$ | async as selectedEditionComplex">\n        <h6 class="awg-edition-info-breadcrumb">\n            <a [routerLink]="[\'.\' + seriesRoute.route]">\n                {{ editionRoute?.short }}\n            </a>\n            /\n            <a [routerLink]="[\'.\' + seriesRoute.route, selectedEditionComplex.series.route]">\n                {{ selectedEditionComplex.series.full }}\n            </a>\n            /\n            <a\n                [routerLink]="[\n                    \'.\' + seriesRoute.route,\n                    selectedEditionComplex.series.route,\n                    \'section\',\n                    selectedEditionComplex.section.route\n                ]">\n                {{ selectedEditionComplex.section.full }}\n            </a>\n        </h6>\n        <h3 class="awg-edition-info-header">\n            <em class="awg-edition-info-header-title">{{ selectedEditionComplex.titleStatement.title }}</em\n            >&nbsp;<span class="awg-edition-info-header-catalogue">{{ selectedEditionComplex.work.short }}</span>\n        </h3>\n        \x3c!-- declamation --\x3e\n        <div class="awg-edition-responsibility mt-3">\n            <p>\n                Ediert von\n                <span\n                    class="editor"\n                    *ngFor="let editor of selectedEditionComplex.responsibilityStatement.editors; last as isLast">\n                    <a href="{{ editor.homepage }}">{{ editor.name }}</a\n                    ><span *ngIf="!isLast">&nbsp;&&nbsp;</span>\n                </span>\n                <br />\n                Versionsdatum:\n                <span class="version">{{ selectedEditionComplex.responsibilityStatement.lastModified }}</span>\n            </p>\n        </div>\n    </div>\n\n    \x3c!-- edition routes --\x3e\n    <router-outlet></router-outlet>\n</div>\n'}}]);