"use strict";(self.webpackChunkawg_app=self.webpackChunkawg_app||[]).push([[768],{6768:(n,y,t)=>{t.r(y),t.d(y,{EditionViewModule:()=>L});var a=t(655),d=t(5e3),b=t(9822),S=t(8755),$=t(1238),v=t(2847),u=t(4825),g=t(5428),p=t(6900);let i=class{constructor(s,h,j){this.editionService=s,this.route=h,this.router=j,this.editionViewTitle="Inhalt",this.editionViewId="awg-edition-view",this.editionRoute=g.w8.EDITION,this.seriesRoute=g.w8.SERIES}ngOnInit(){this.getSelectionsFromRoute(),this.routeToSidenav()}getSelectionsFromRoute(){this.selectedEditionSeries$=this.editionService.getSelectedEditionSeries().pipe((0,u.g)(0)),this.selectedEditionSection$=this.editionService.getSelectedEditionSection().pipe((0,u.g)(0)),this.selectedEditionComplex$=this.editionService.getEditionWork().pipe((0,u.g)(0)),this.isRowTableView$=this.editionService.getIsRowTableView().pipe((0,u.g)(0))}routeToSidenav(){this.router.navigate([{outlets:{side:"editionInfo"}}],{preserveFragment:!0})}};i.ctorParameters=()=>[{type:p.O},{type:S.gz},{type:S.F0}],i=(0,a.gn)([(0,d.wA2)({selector:"awg-edition-view",template:$,styles:[v]})],i);var I=t(3288),w=t(5883),D=t(4350);let m=class{constructor(s,h){this.route=s,this.editionService=h}ngOnInit(){this.getEditionComplexFromRoute()}getEditionComplexFromRoute(){this.route.paramMap.subscribe(s=>{const h=s.get("compositionId")?s.get("compositionId"):"";this.editionService.updateEditionWork(D.y[h.toUpperCase()]),this.selectedEditionComplex$=this.editionService.getEditionWork().pipe((0,u.g)(0))})}ngOnDestroy(){this.editionService.clearEditionWork()}};m.ctorParameters=()=>[{type:S.gz},{type:p.O}],m=(0,a.gn)([(0,d.wA2)({selector:"awg-edition-complex",template:I,styles:[w]})],m);var W=t(6634),e=t(3968),o=t(7579),c=t(2722),l=t(849);let E=class{constructor(s){this.editionService=s,this._destroyed$=new o.x}ngOnInit(){this.getEditionWork()}getEditionWork(){this.editionService.getEditionWork().pipe((0,c.R)(this._destroyed$)).subscribe({next:s=>{this.editionWork=s,this.setButtons()}})}setButtons(){this.editionRouterLinkButtons=[new l.v(this.editionWork.baseRoute,this.editionWork.introRoute.route,g.w8.EDITION_INTRO.short,!1),new l.v(this.editionWork.baseRoute,this.editionWork.sheetsRoute.route,g.w8.EDITION_SHEETS.short,!1),new l.v(this.editionWork.baseRoute,this.editionWork.reportRoute.route,g.w8.EDITION_REPORT.short,!1),new l.v(this.editionWork.baseRoute,this.editionWork.graphRoute.route,g.w8.EDITION_GRAPH.short,!1)]}ngOnDestroy(){this._destroyed$.next(!0),this._destroyed$.complete()}};E.ctorParameters=()=>[{type:p.O}],E=(0,a.gn)([(0,d.wA2)({selector:"awg-edition-detail-nav",template:W,styles:[e]})],E);var P=t(2853),V=t(824);let R=class{constructor(s){this.editionService=s}ngOnInit(){this.clearSelectedSection(),this.getSeries()}getSeries(){this.selectedSeries$=this.editionService.getSelectedEditionSeries()}clearSelectedSection(){this.editionService.clearSelectedEditionSection()}};R.ctorParameters=()=>[{type:p.O}],R=(0,a.gn)([(0,d.wA2)({selector:"awg-edition-sections",template:P,styles:[V]})],R);var A=t(8539),F=t(9445);let T=class{constructor(s,h){this.route=s,this.editionService=h,this._destroyed$=new o.x}ngOnInit(){this.getSection()}getSection(){const s=this.route.snapshot.paramMap.get("id");this.editionService.getSelectedEditionSeries().pipe((0,u.g)(0),(0,c.R)(this._destroyed$)).subscribe(h=>{if(h){this.selectedSeries=h;const j=h.series.route;this.selectedSection=this.editionService.getEditionSectionById(j,s),this.editionService.updateSelectedEditionSection(this.selectedSection)}})}ngOnDestroy(){this._destroyed$.next(!0),this._destroyed$.complete()}};T.ctorParameters=()=>[{type:S.gz},{type:p.O}],T=(0,a.gn)([(0,d.wA2)({selector:"awg-edition-section-detail",template:A,styles:[F]})],T);var M=t(7442),J=t(1499);let f=class{constructor(s){this.editionService=s}ngOnInit(){this.clearSelections(),this.getEditionOutline()}getEditionOutline(){this.editionOutline=this.editionService.getEditionOutline(),this.editionRoute=g.w8.EDITION}clearSelections(){this.editionService.clearSelectedEditionSeries(),this.editionService.clearSelectedEditionSection()}};f.ctorParameters=()=>[{type:p.O}],f=(0,a.gn)([(0,d.wA2)({selector:"awg-edition-series",template:M,styles:[J]})],f);var B=t(7477),z=t(2398),k=t(1430);let O=class{constructor(s,h){this.route=s,this.editionService=h}ngOnInit(){this.getSeries()}getSeries(){const s=this.route.snapshot.paramMap.get("id");this.selectedSeries=this.editionService.getEditionSeriesById(s),this.editionService.updateSelectedEditionSeries(this.selectedSeries),this.editionRoute=k.w8.EDITION}};O.ctorParameters=()=>[{type:S.gz},{type:p.O}],O=(0,a.gn)([(0,d.wA2)({selector:"awg-edition-series-detail",template:B,styles:[z]})],O);var G=t(4807),U=t(5347);let x=class{constructor(){}ngOnInit(){}};x.ctorParameters=()=>[],x=(0,a.gn)([(0,d.wA2)({selector:"awg-edition-type",template:G,styles:[U]})],x);const H=[{path:"",component:i,children:[{path:"series",component:f},{path:"series/:id",component:O,children:[{path:"sections",component:R},{path:"section/:id",component:T},{path:"sections/:id",redirectTo:"section/:id",pathMatch:"full"},{path:"",redirectTo:"sections",pathMatch:"full"}]},{path:"composition/:compositionId",component:m,children:[{path:"",component:E,children:[{path:"intro",loadChildren:()=>t.e(172).then(t.bind(t,2172)).then(r=>r.EditionIntroModule)},{path:"sheets",loadChildren:()=>Promise.all([t.e(592),t.e(370)]).then(t.bind(t,370)).then(r=>r.EditionSheetsModule)},{path:"report",loadChildren:()=>Promise.all([t.e(592),t.e(747)]).then(t.bind(t,4747)).then(r=>r.EditionReportModule)},{path:"graph",loadChildren:()=>Promise.all([t.e(266),t.e(592),t.e(552)]).then(t.bind(t,6552)).then(r=>r.EditionGraphModule)},{path:"",redirectTo:"intro",pathMatch:"full"}]}]},{path:"row-tables",loadChildren:()=>t.e(775).then(t.bind(t,9775)).then(r=>r.EditionRowTablesModule)}]}],K=[i,m,E,R,T,f,O,x];let N=class{};N=(0,a.gn)([(0,d.LVF)({imports:[S.Bz.forChild(H)],exports:[S.Bz]})],N);var Q=t(5041),Z=t(7739);let C=class{};C.propDecorators={jumbotronId:[{type:d.IIB}],jumbotronTitle:[{type:d.IIB}]},C=(0,a.gn)([(0,d.wA2)({selector:"awg-edition-jumbotron",template:Q,changeDetection:d.n4l.OnPush,styles:[Z]})],C);let L=class{};L=(0,a.gn)([(0,d.LVF)({imports:[b.m,N],declarations:[K,C]})],L)},6900:(n,y,t)=>{t.d(y,{K:()=>I,O:()=>m});var a=t(655),d=t(5e3),b=t(520),S=t(4128),$=t(9646),v=t(6590),u=t(5698),g=t(262),p=t(4350),i=t(5428);let I=class{constructor(e){this.http=e,this._assetWorkPath=""}getEditionSheetsData(e){this._setAssetWorkPath(e);const o=this._getFolioConvoluteData(),c=this._getSvgSheetsData(),l=this._getTextcriticsListData();return(0,S.D)([o,c,l]).pipe((0,v.d)([new i.yL,new i.vU,new i.Dt]),(0,u.q)(1))}getEditionGraphData(e){return this._setAssetWorkPath(e),this._getGraphData().pipe((0,v.d)(new i.nu),(0,u.q)(1))}getEditionIntroData(e){return this._setAssetWorkPath(e),this._getIntroData().pipe((0,v.d)(new i.Jb),(0,u.q)(1))}getEditionReportData(e){this._setAssetWorkPath(e);const o=this._getSourceListData(),c=this._getSourceDescriptionListData(),l=this._getSourceEvaluationListData(),E=this._getTextcriticsListData();return(0,S.D)([o,c,l,E]).pipe((0,v.d)([new i.LQ,new i.DD,new i.DO,new i.Dt]),(0,u.q)(1))}getRowTables(){return p.z}_setAssetWorkPath(e){const o=i.w8.SERIES.route+e.series.route+i.w8.SECTION.route+e.section.route+e.work.route;this._assetWorkPath=i.w8.EDITION_ASSETS.baseRoute+o}_getFolioConvoluteData(){const e=i.w8.EDITION_ASSETS.folioConvoluteFile,o=`${this._assetWorkPath}/${e}`;return this._getJsonData(o)}_getGraphData(){const e=i.w8.EDITION_ASSETS.graphFile,o=`${this._assetWorkPath}/${e}`;return this._getJsonData(o)}_getIntroData(){const e=i.w8.EDITION_ASSETS.introFile,o=`${this._assetWorkPath}/${e}`;return this._getJsonData(o)}_getSourceListData(){const e=i.w8.EDITION_ASSETS.sourceListFile,o=`${this._assetWorkPath}/${e}`;return this._getJsonData(o)}_getSourceDescriptionListData(){const e=i.w8.EDITION_ASSETS.sourceDescriptionListFile,o=`${this._assetWorkPath}/${e}`;return this._getJsonData(o)}_getSourceEvaluationListData(){const e=i.w8.EDITION_ASSETS.sourceEvaluationListFile,o=`${this._assetWorkPath}/${e}`;return this._getJsonData(o)}_getSvgSheetsData(){const e=i.w8.EDITION_ASSETS.svgSheetsFile,o=`${this._assetWorkPath}/${e}`;return this._getJsonData(o)}_getTextcriticsListData(){const e=i.w8.EDITION_ASSETS.textcriticsFile,o=`${this._assetWorkPath}/${e}`;return this._getJsonData(o)}_getJsonData(e){return this.http.get(e).pipe((0,g.K)(this._handleError("_getJsonData",[])))}_handleError(e,o){return c=>(this._logError(`${e} failed: ${c.message}`),(0,$.of)(o))}_logError(e){console.error(e)}};I.ctorParameters=()=>[{type:b.eN}],I=(0,a.gn)([(0,d.GSi)({providedIn:"root"})],I);var D,w=t(4707);let m=D=class{constructor(){this._editionOutline=[{series:i.w8.SERIES_1,sections:[i.w8.SECTION_1,i.w8.SECTION_2,i.w8.SECTION_3,i.w8.SECTION_4,i.w8.SECTION_5]},{series:i.w8.SERIES_2,sections:[i.w8.SECTION_1,i.w8.SECTION_2,i.w8.SECTION_3,i.w8.SECTION_4,i.w8.SECTION_5]},{series:i.w8.SERIES_3,sections:[i.w8.SECTION_1,i.w8.SECTION_2,i.w8.SECTION_3,i.w8.SECTION_4,i.w8.SERIES_3_SECTION_5]}],this._bufferSize=1,this._editionWorkSubject=new w.t(this._bufferSize),this._editionWorkStream$=this._editionWorkSubject.asObservable(),this._isRowTableViewSubject=new w.t(this._bufferSize),this._isRowTableViewStream$=this._isRowTableViewSubject.asObservable(),this._selectedEditionSeriesSubject=new w.t(this._bufferSize),this._selectedEditionSeriesStream$=this._selectedEditionSeriesSubject.asObservable(),this._selectedEditionSectionSubject=new w.t(this._bufferSize),this._selectedEditionSectionStream$=this._selectedEditionSectionSubject.asObservable()}static _filterTextcriticalComments(e,o,c){const l=e.measure.replace("[","").replace("]",""),E=e.system.replace("[","").replace("]","");switch(o.type){case i.wN.measure:return l===o.id;case i.wN.system:return E===o.id;case i.wN.item:return c===+o.id}}getTextcriticalComments(e,o){if(e&&o)return e.filter((c,l)=>D._filterTextcriticalComments(c,o,l))}getEditionWork(){return this._editionWorkStream$}updateEditionWork(e){this._editionWorkSubject.next(e)}clearEditionWork(){this._editionWorkSubject.next(null)}getEditionOutline(){return this._editionOutline}getEditionSeriesRoute(){return i.w8.EDITION.route+i.w8.SERIES.route}getEditionSeriesById(e){return this._editionOutline.find(o=>o.series.route===e)}getEditionSectionById(e,o){return this.getEditionSeriesById(e).sections.find(l=>l.route===o)}getSelectedEditionSeries(){return this._selectedEditionSeriesStream$}updateSelectedEditionSeries(e){this._selectedEditionSeriesSubject.next(e)}clearSelectedEditionSeries(){this._selectedEditionSeriesSubject.next(null)}getSelectedEditionSection(){return this._selectedEditionSectionStream$}updateSelectedEditionSection(e){this._selectedEditionSectionSubject.next(e)}clearSelectedEditionSection(){this._selectedEditionSectionSubject.next(null)}getIsRowTableView(){return this._isRowTableViewStream$}updateIsRowTableView(e){this._isRowTableViewSubject.next(e)}clearIsRowTableView(){this._isRowTableViewSubject.next(null)}};m=D=(0,a.gn)([(0,d.GSi)({providedIn:"root"})],m)},7739:n=>{n.exports=""},5883:n=>{n.exports=""},3968:n=>{n.exports=""},9445:n=>{n.exports=""},824:n=>{n.exports=""},2398:n=>{n.exports=""},1499:n=>{n.exports=""},5347:n=>{n.exports=""},2847:n=>{n.exports=""},5041:n=>{n.exports='<div\n    class="p-5 bg-image text-white text-center awg-jumbotron-image shadow border rounded-3"\n    style="background-image: url(\'https://mdbcdn.b-cdn.net/img/new/slides/041.webp\')">\n    <h1 id="{{ jumbotronId }}" class="mb-4">{{ jumbotronTitle }}</h1>\n</div>\n'},3288:n=>{n.exports="\x3c!-- edition routes --\x3e\n<router-outlet></router-outlet>\n"},6634:n=>{n.exports='<awg-router-link-button-group\n    *ngIf="editionRouterLinkButtons"\n    [routerLinkButtons]="editionRouterLinkButtons"\n    [queryParamsHandling]="\'\'">\n</awg-router-link-button-group>\n\n<router-outlet></router-outlet>\n'},8539:n=>{n.exports='<small class="text-muted"\n    >[Diese Inhalte erscheinen im Zusammenhang der vollsta\u0308ndigen Edition von AWG {{ selectedSeries?.series.short }}/{{\n        selectedSection?.short\n    }}.]</small\n>\n'},2853:n=>{n.exports='<div *ngIf="selectedSeries$ | async as selectedSeries" class="row row-cols-1 row-cols-md-3 row-cols-xl-5 g-4">\n    <div class="col" *ngFor="let section of selectedSeries.sections">\n        <div class="card h-100">\n            <div class="card-body">\n                <h5 class="card-title">{{ section.full }}</h5>\n            </div>\n            <div class="card-footer text-end">\n                <a [routerLink]="[section.route]" class="btn btn-outline-info">Mehr... </a>\n            </div>\n        </div>\n    </div>\n</div>\n'},7477:n=>{n.exports="<router-outlet></router-outlet>\n"},7442:n=>{n.exports='<div *ngIf="editionOutline" class="row row-cols-1 row-cols-md-3 g-4">\n    <div class="col" *ngFor="let series of editionOutline">\n        <div class="card h-100">\n            <div class="card-header">\n                <h5 class="card-title">{{ series.series.full }}</h5>\n            </div>\n            <div class="card-body">\n                <ul class="list-group list-group-flush">\n                    <li *ngFor="let section of series.sections" class="list-group-item">\n                        <a [routerLink]="[series.series.route, \'section\', section.route]">{{ section.full }}</a>\n                    </li>\n                </ul>\n            </div>\n            <div class="card-footer text-end">\n                <a [routerLink]="[series.series.route]" class="btn btn-outline-info">Mehr... </a>\n            </div>\n        </div>\n    </div>\n</div>\n'},4807:n=>{n.exports="<p>edition-type works!</p>\n\n<router-outlet></router-outlet>\n"},1238:n=>{n.exports='\x3c!-- content: edition-view --\x3e\n\n<div>\n    <div class="awg-edition-row-tables para" *ngIf="isRowTableView$ | async as isRowTableView">\n        <h6 class="awg-edition-info-breadcrumb">\n            <a [routerLink]="[\'.\' + seriesRoute.route]">\n                {{ editionRoute?.short }}\n            </a>\n            /\n            <span>Reihentabellen</span>\n        </h6>\n        \x3c!-- Jumbotron --\x3e\n        <awg-edition-jumbotron [jumbotronId]="editionViewId" [jumbotronTitle]="\'\xdcbersicht\'"></awg-edition-jumbotron>\n    </div>\n\n    <div\n        class="awg-edition-series para"\n        *ngIf="(selectedEditionComplex$ | async) === null && (isRowTableView$ | async) === null">\n        <h6 class="awg-edition-info-breadcrumb">\n            <a\n                *ngIf="selectedEditionSeries$ | async as selectedSeries; else editionWithoutLink"\n                [routerLink]="[\'.\' + seriesRoute.route]">\n                {{ editionRoute?.short }}\n            </a>\n            <ng-template #editionWithoutLink> {{ editionRoute?.short }} </ng-template>\n            /\n            <span *ngIf="selectedEditionSeries$ | async as selectedSeries">\n                <a\n                    *ngIf="selectedEditionSection$ | async as selectedSection; else seriesWithoutLink"\n                    [routerLink]="[\'./series\', selectedSeries.series.route]">\n                    {{ selectedSeries?.series.full }}\n                </a>\n                <ng-template #seriesWithoutLink> {{ selectedSeries?.series.full }} </ng-template>\n                /\n            </span>\n            <span *ngIf="selectedEditionSection$ | async as selectedSection">\n                {{ selectedSection?.full }}\n            </span>\n        </h6>\n        \x3c!-- Jumbotron --\x3e\n        <awg-edition-jumbotron\n            [jumbotronId]="editionViewId"\n            [jumbotronTitle]="editionViewTitle"></awg-edition-jumbotron>\n    </div>\n\n    <div class="awg-edition-complex" *ngIf="selectedEditionComplex$ | async as selectedEditionComplex">\n        <h6 class="awg-edition-info-breadcrumb">\n            <a [routerLink]="[\'.\' + seriesRoute.route]">\n                {{ editionRoute?.short }}\n            </a>\n            /\n            <a [routerLink]="[\'.\' + seriesRoute.route, selectedEditionComplex.series.route]">\n                {{ selectedEditionComplex.series.full }}\n            </a>\n            /\n            <a\n                [routerLink]="[\n                    \'.\' + seriesRoute.route,\n                    selectedEditionComplex.series.route,\n                    \'section\',\n                    selectedEditionComplex.section.route\n                ]">\n                {{ selectedEditionComplex.section.full }}\n            </a>\n        </h6>\n        <h3 class="awg-edition-info-header">\n            <em class="awg-edition-info-header-title">{{ selectedEditionComplex.titleStatement.title }}</em\n            >&nbsp;<span class="awg-edition-info-header-catalogue">{{ selectedEditionComplex.work.short }}</span>\n        </h3>\n        \x3c!-- declamation --\x3e\n        <div class="awg-edition-responsibility mt-3">\n            <p>\n                Ediert von\n                <span\n                    class="editor"\n                    *ngFor="let editor of selectedEditionComplex.responsibilityStatement.editors; last as isLast">\n                    <a href="{{ editor.homepage }}">{{ editor.name }}</a\n                    ><span *ngIf="!isLast">&nbsp;&&nbsp;</span>\n                </span>\n                <br />\n                Versionsdatum:\n                <span class="version">{{ selectedEditionComplex.responsibilityStatement.lastModified }}</span>\n            </p>\n        </div>\n    </div>\n\n    \x3c!-- edition routes --\x3e\n    <router-outlet></router-outlet>\n</div>\n'}}]);